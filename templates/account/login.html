{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Sign In" %} | Despair Chinese{% endblock %}

{% block content %}
<div class="auth-page">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-sm-9 col-md-7 col-lg-5">
                <div class="auth-card">
                    <div class="auth-brand text-center mb-4">
                        <span class="brand-dragon">ğŸ‰</span>
                        <h4 class="mt-2">{% trans "Welcome back" %}</h4>
                        <p class="text-muted small">{% trans "Sign in to order and track your food" %}</p>
                    </div>

                    <form method="post" action="{% url 'account_login' %}">
                        {% csrf_token %}
                        {% if form.errors %}
                            <div class="alert alert-danger small">
                                <i class="fas fa-exclamation-circle me-1"></i>
                                {% trans "Invalid username/email or password. Please try again." %}
                            </div>
                        {% endif %}

                        {% if redirect_field_value %}
                            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}">
                        {% endif %}

                        <div class="mb-3">
                            <label class="form-label">{% trans "Username or Email" %}</label>
                            <input type="text" name="login" class="form-control" autofocus value="{{ form.login.value|default:'' }}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">{% trans "Password" %}</label>
                            <input type="password" name="password" class="form-control">
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" name="remember" id="remember">
                            <label class="form-check-label" for="remember">{% trans "Remember me" %}</label>
                        </div>
                        <button type="submit" class="btn btn-primary-custom w-100 btn-lg">{% trans "Sign In" %}</button>
                    </form>

                    <p class="text-center text-muted mt-3 mb-0 small">
                        {% trans "Don't have an account?" %} <a href="{% url 'account_signup' %}">{% trans "Register here" %}</a>
                    </p>
                    <p class="text-center mt-2 mb-0" style="font-size:0.7rem;">
                        <a href="{% url 'staff_login' %}" style="color:rgba(255,255,255,0.18);text-decoration:none;" tabindex="-1">Â·</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
